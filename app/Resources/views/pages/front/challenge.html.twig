{% extends "base.html.twig" %}

{% block title %}
    Challenge - Behive
{% endblock %}

{% block body %}
    {% include "pages/front/partial/menu.html.twig" %}

    <div id="challenges" class="main push">
        {% if dailyChallenge|length %}
            <h2>Challenge du jour</h2>
            <div class="cDay">
                <h3 class="titleDay">{{ dailyChallenge.game.name }}</h3>
                <div class="dayChallenge">
                    <img src="{{ dailyChallenge.cover }}">
                    <h2 class="detail-title">{{ dailyChallenge.name }}</h2>
                </div>
                <div class="descriptionChallenge">
                    <h3>Seuils d'expérience:</h3>
                    <div class="contentText">
                        {% for limit in challenge.limits %}
                            <p><span class="position">{{ limit.begin }} - {{ limit.end }}</span> <span class="date">{{ limit.points }} points</span></p>
                        {% endfor %}
                    </div>
                    <a class="boutonSubmit detail-button" href="{{ path('homepage') }}">
                        Participer
                    </a>
                </div>
            </div>
        {% endif %}

        <h2>Autres challenges</h2>
        {% for challenge in challenges %}
            <div class="day">
                <div class="dayChallenge">
                    <img src="{{ challenge.cover }}" alt="">
                    <h2 class="detail-title">{{ challenge.name }}</h2>
                    <h4 class="center detail-title"><a href="{{ path('game', {id: challenge.game.id}) }}">{{ challenge.game.name }}</a></h4>
                </div>
                <div class="descriptionChallenge">
                    <h3>Seuils d'expérience:</h3>
                    <div class="contentText">
                        {% for limit in challenge.limits %}
                            <p><span class="position">{{ limit.begin }} - {{ limit.end }}</span> <span class="date">{{ limit.points }} points</span></p>
                        {% endfor %}
                    </div>
                    {% if app.user %}
                        <a class="boutonSubmit detail-button" href="{{ path('homepage') }}">
                            Participer
                        </a>
                    {% else %}
                        <p class="center">Pour participer ?</p>
                        <a class="boutonSubmit detail-button" href="{{ path('homepage') }}">
                            S'inscrire
                        </a>
                        <a class="boutonSubmit detail-button" href="{{ path('homepage') }}">
                            Connexion
                        </a>
                    {% endif %}
                </div>
            </div>
        {% endfor %}
    </div>
{% endblock %}
